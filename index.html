<!doctype html>
<html>
  <head>
    <script src="node_modules/angular/angular.js"></script>
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css"></script>
    <script src="node_modules/jquery/dist/jquery.min.js"></script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.2.1/firebase.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/1.0.0/angularfire.min.js"></script>
    <link rel="stylesheet" href="css/custom.css"></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body ng-app="myApp">
    <div class="container-fluid" ng-controller="LoginController">
      <div ng-show="authData">
        <p>Hello, {{ authData }}</p>
        <button ng-click="auth.$unauth()">Logout</button>
      </div>
      <div ng-hide="authData">
        <p>Welcome, please log in.</p>
        <button ng-click="auth.$authWithOAuthPopup('facebook')">Login With Facebook</button>
      </div>
    </div>
    <div class="container-fluid" ng-controller="MainController">
        <div class="row">
            <div class="col-sm-11">
              <h1>Wish Board</h1>
            </div>
        </div>
        <div class="row">
          <div class="col-sm-4" ng-repeat-start="list in lists">
            <div class="row">
              <div class="col-sm-12">
                <div class="row">
                  <div class="col-xs-10">
                    <h3> {{ list.name }} </h3>
                  </div>
                  <div class="col-xs-2 h3">
                    <button class="btn btn-default btn-sm pull-right vertical-mid" ng-click="removeList($index)">
                      <span class="glyphicon glyphicon-trash" aria-hidden="true">
                    </button>
                  </div>
                </div>

                <ul class="list-group">
                  <li class="list-group-item" ng-repeat="element in list.elements">
                    <div class="row">
                      <div class="col-xs-10">
                        <h5> {{element}} </h5>
                      </div>
                      <div class="col-xs-2">
                        <button class="btn btn-default btn-sm pull-right" ng-click="deleteItem($parent.$index, $index)">
                          <span class="glyphicon glyphicon-remove" aria-hidden="true">
                        </button>
                      </div>
                    </div>
                   </li>
                </ul>
                <div class="row">
                  <div class="col-xs-12">
                    <form class="form" ng-submit="addItem($index)">
                      <div class="input-group input-group-md">
                        <input type="text" name="input" class="form-control input-md" placeholder="Add Item" ng-model="list.textToAdd">
                        <span class="input-group-btn">
                          <button type="submit" class="btn btn-default btn-md">
                            <span class="glyphicon glyphicon-plus add" aria-hidden="true">
                          </button>
                        </span>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="clearfix visible-block-sm" ng-if="($index + 1) % 3 == 0" ng-repeat-end>
          </div>
          <div class="col-sm-4">
            <h3>Add new list</h3>
            <form class="form" ng-submit="addList()">
              <div class="input-group input-group-lg">
                <input type="text" name="input" class="form-control input-lg" placeholder="Enter new list name" ng-model="newListTextAdd">
                <span class="input-group-btn">
                  <button type="submit" class="btn btn-default btn-lg">
                    <span class="glyphicon glyphicon-plus add" aria-hidden="true">
                  </button>
                </span>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Modules -->
    <script src="js/app.js"></script>

    <!-- Controllers -->
    <script src="js/controllers/MainController.js"></script>
    <script src="js/controllers/LoginController.js"></script>

    <!-- Factories -->
    <script src="js/factories/listsFactory.js"></script>
    <script src="js/factories/authFactory.js"></script>


  </body>
</html>
